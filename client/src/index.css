@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --board-tile-size: min(10vw, 48px);
}

body {
  margin: 0;
  font-family: 'DM Sans', system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Combat modal â€” Rock wins: pop + smash down */
@keyframes rock-smash {
  0% { transform: scale(1); }
  25% { transform: scale(1.4); }
  40% { transform: scale(1.2) translateY(0); }
  100% { transform: scale(1.1) translateY(8px); }
}

/* Scissors loses: shake + fade */
@keyframes scissors-shake-fade {
  0% { opacity: 1; transform: translateX(0) rotate(0deg); }
  15% { transform: translateX(-4px) rotate(-8deg); }
  30% { transform: translateX(4px) rotate(8deg); }
  45% { transform: translateX(-3px) rotate(-6deg); }
  60% { transform: translateX(3px) rotate(6deg); opacity: 0.7; }
  100% { opacity: 0; transform: translateX(0) scale(0.5); }
}

/* Paper wins (attacker): float up + move right to cover defender */
@keyframes paper-float-cover {
  0% { transform: scale(1) translateY(0) translateX(0); opacity: 1; }
  40% { transform: scale(1.2) translateY(-20px) translateX(30px); opacity: 1; }
  100% { transform: scale(1.15) translateY(-10px) translateX(40px); opacity: 1; }
}

/* Paper wins (defender): float up + move left to cover attacker */
@keyframes paper-float-cover-reverse {
  0% { transform: scale(1) translateY(0) translateX(0); opacity: 1; }
  40% { transform: scale(1.2) translateY(-20px) translateX(-30px); opacity: 1; }
  100% { transform: scale(1.15) translateY(-10px) translateX(-40px); opacity: 1; }
}

/* Rock loses to Paper: fade out */
@keyframes rock-fade {
  0% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(0.95); }
  100% { opacity: 0; transform: scale(0.8); }
}

/* Scissors wins: snipping (rotate back and forth) */
@keyframes scissors-snip {
  0% { transform: rotate(0deg) scale(1); }
  20% { transform: rotate(-15deg) scale(1.1); }
  40% { transform: rotate(15deg) scale(1.05); }
  60% { transform: rotate(-10deg) scale(1.08); }
  80% { transform: rotate(10deg) scale(1.05); }
  100% { transform: rotate(0deg) scale(1); }
}

/* Paper loses to Scissors: split/fade */
@keyframes paper-split-fade {
  0% { opacity: 1; transform: scale(1); }
  30% { opacity: 1; transform: scale(1.05); }
  100% { opacity: 0; transform: scale(0.7); }
}

/* Trap: vine/cage overlay appears, then attacker vanishes */
@keyframes trap-vine-overlay {
  0% { transform: scale(0.3); opacity: 0; }
  40% { transform: scale(1.3); opacity: 0.95; }
  100% { transform: scale(1.2); opacity: 0.9; }
}

@keyframes trap-attacker-vanish {
  0% { transform: scale(1); opacity: 1; }
  30% { opacity: 1; }
  100% { transform: scale(0); opacity: 0; }
}

/* Generic fallbacks */
@keyframes combat-fade {
  0% { opacity: 1; transform: scale(1); }
  100% { opacity: 0; transform: scale(0.8); }
}

.animate-rock-smash { animation: rock-smash 0.7s ease-out forwards; }
.animate-scissors-shake-fade { animation: scissors-shake-fade 0.6s ease-out forwards; }
.animate-paper-float-cover { animation: paper-float-cover 0.7s ease-out forwards; }
.animate-paper-float-cover-reverse { animation: paper-float-cover-reverse 0.7s ease-out forwards; }
.animate-rock-fade { animation: rock-fade 0.5s ease-out forwards; }
.animate-scissors-snip { animation: scissors-snip 0.7s ease-out forwards; }
.animate-paper-split-fade { animation: paper-split-fade 0.5s ease-out forwards; }
.animate-trap-vine-overlay { animation: trap-vine-overlay 0.6s ease-out forwards; }
.animate-trap-attacker-vanish { animation: trap-attacker-vanish 0.8s ease-out 0.3s forwards; }
.animate-combat-fade { animation: combat-fade 0.5s ease-out forwards; }
.animate-delay-200 { animation-delay: 200ms; }
